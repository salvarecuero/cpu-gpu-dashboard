[Rainmeter]
Update=1000
AccurateText=1
DynamicWindowSize=1
; AlwaysOnTop must be 1 or 0 for InputText plugin compatibility (not 2)
AlwaysOnTop=1

[Metadata]
Name=CPU/GPU Dashboard Setup
Author=CPU GPU Dashboard
Version=1.0.0
Information=First-run configuration for HWiNFO sensor indexes

; ==========================================
; INCLUDES
; ==========================================
@IncludeVariables=#@#Variables.inc
@IncludeStyles=#@#Styles.inc

; ==========================================
; VARIABLES
; ==========================================
[Variables]
; Input field dimensions
InputX=20
InputW=280
InputH=28

; ==========================================
; INPUT TEXT MEASURES
; ==========================================

[MeasureInputCPUTemp]
Measure=Plugin
Plugin=InputText
SolidColor=45,45,45,255
FontColor=255,255,255,255
FontFace=Segoe UI
FontSize=11
X=#InputX#
Y=155
W=#InputW#
H=#InputH#
DefaultValue=#CPUTempIndex#
Command1=[!SetVariable CPUTempIndex "$UserInput$"][!UpdateMeter MeterCPUTempValue][!Redraw]

[MeasureInputCPUUsage]
Measure=Plugin
Plugin=InputText
SolidColor=45,45,45,255
FontColor=255,255,255,255
FontFace=Segoe UI
FontSize=11
X=#InputX#
Y=215
W=#InputW#
H=#InputH#
DefaultValue=#CPUUsageIndex#
Command1=[!SetVariable CPUUsageIndex "$UserInput$"][!UpdateMeter MeterCPUUsageValue][!Redraw]

[MeasureInputGPUTemp]
Measure=Plugin
Plugin=InputText
SolidColor=45,45,45,255
FontColor=255,255,255,255
FontFace=Segoe UI
FontSize=11
X=#InputX#
Y=275
W=#InputW#
H=#InputH#
DefaultValue=#GPUTempIndex#
Command1=[!SetVariable GPUTempIndex "$UserInput$"][!UpdateMeter MeterGPUTempValue][!Redraw]

[MeasureInputGPUUsage]
Measure=Plugin
Plugin=InputText
SolidColor=45,45,45,255
FontColor=255,255,255,255
FontFace=Segoe UI
FontSize=11
X=#InputX#
Y=335
W=#InputW#
H=#InputH#
DefaultValue=#GPUUsageIndex#
Command1=[!SetVariable GPUUsageIndex "$UserInput$"][!UpdateMeter MeterGPUUsageValue][!Redraw]

; ==========================================
; METERS - BACKGROUND
; ==========================================

[MeterBackground]
Meter=Shape
Shape=Rectangle 0,0,#SkinWidthSetup#,#SkinHeightSetup#,#CornerRadius# | Fill Color #ColorBackground# | StrokeWidth 0

; ==========================================
; METERS - HEADER
; ==========================================

[MeterTitle]
Meter=String
MeterStyle=StyleTitle
X=20
Y=15
Text=CPU/GPU Dashboard Setup

[MeterInstructions]
Meter=String
MeterStyle=StyleInstructions
X=20
Y=8R
W=280
Text=Enter the HWiNFO sensor index numbers for each metric. Run 'reg query HKEY_CURRENT_USER\SOFTWARE\HWiNFO64\VSB' in Command Prompt to find your indexes.

; ==========================================
; METERS - CPU TEMPERATURE INPUT
; ==========================================

[MeterCPUTempLabel]
Meter=String
MeterStyle=StyleLabel
X=20
Y=100
Text=CPU Temperature Index

[MeterCPUTempValue]
Meter=String
MeterStyle=StyleInputField
X=20
Y=5R
W=#InputW#
H=#InputH#
Text=#CPUTempIndex#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputCPUTemp "ExecuteBatch 1"]

; ==========================================
; METERS - CPU USAGE INPUT
; ==========================================

[MeterCPUUsageLabel]
Meter=String
MeterStyle=StyleLabel
X=20
Y=15R
Text=CPU Usage Index

[MeterCPUUsageValue]
Meter=String
MeterStyle=StyleInputField
X=20
Y=5R
W=#InputW#
H=#InputH#
Text=#CPUUsageIndex#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputCPUUsage "ExecuteBatch 1"]

; ==========================================
; METERS - GPU TEMPERATURE INPUT
; ==========================================

[MeterGPUTempLabel]
Meter=String
MeterStyle=StyleLabel
X=20
Y=15R
Text=GPU Temperature Index

[MeterGPUTempValue]
Meter=String
MeterStyle=StyleInputField
X=20
Y=5R
W=#InputW#
H=#InputH#
Text=#GPUTempIndex#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputGPUTemp "ExecuteBatch 1"]

; ==========================================
; METERS - GPU USAGE INPUT
; ==========================================

[MeterGPUUsageLabel]
Meter=String
MeterStyle=StyleLabel
X=20
Y=15R
Text=GPU Usage Index

[MeterGPUUsageValue]
Meter=String
MeterStyle=StyleInputField
X=20
Y=5R
W=#InputW#
H=#InputH#
Text=#GPUUsageIndex#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureInputGPUUsage "ExecuteBatch 1"]

; ==========================================
; METERS - SAVE BUTTON
; ==========================================

[MeterSaveButton]
Meter=String
MeterStyle=StyleButtonPrimary
X=20
Y=25R
Text=Save & Launch Dashboard
DynamicVariables=1
LeftMouseUpAction=[!WriteKeyValue Variables CPUTempIndex "#CPUTempIndex#" "#@#Variables.inc"][!WriteKeyValue Variables CPUUsageIndex "#CPUUsageIndex#" "#@#Variables.inc"][!WriteKeyValue Variables GPUTempIndex "#GPUTempIndex#" "#@#Variables.inc"][!WriteKeyValue Variables GPUUsageIndex "#GPUUsageIndex#" "#@#Variables.inc"][!WriteKeyValue Variables IsConfigured "1" "#@#Variables.inc"][!DeactivateConfig "#CURRENTCONFIG#"][!ActivateConfig "CPUGPUDashboard\Dashboard" "Dashboard.ini"]

; ==========================================
; METERS - HELP LINK
; ==========================================

[MeterHelpLink]
Meter=String
MeterStyle=StyleLink
X=20
Y=15R
Text=How to find sensor indexes
LeftMouseUpAction=["https://docs.rainmeter.net/tips/hwinfo/"]
